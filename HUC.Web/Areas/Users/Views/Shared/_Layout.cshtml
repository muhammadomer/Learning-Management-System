@using HUC.Web.App.Shared
@using HUC.Web.Controllers
@using HUC.Web.Models
@{
    var pageData = (PageDataModel)ViewBag.PageData;
    if (pageData == null)
    {
        pageData = new PageDataModel();
    }

    var user = Html.User();
    var userslist = user.Company.AllUsers.ToList();
    var getuser = userslist.Where(x => x.UserID == user.ID && x.IsAdmin == false && x.IsBackupAdmin == false);
    var courseUser = user.Company.AllUsers.FirstOrDefault();

  


}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1" />
    <title>
        Training Courses | Users @(String.IsNullOrWhiteSpace(pageData.Title) ? "" : "| " + pageData.Title)
    </title>
    @if (ViewBag.OtherApplication == "1")
    {
        <link rel="shortcut icon" href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/images/K6/favicon.ico" type="image/x-icon" />
    }
    else
    {
        <link rel="shortcut icon" href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/images/favicon.ico" type="image/x-icon" />
    }
    <meta name="description" content="@pageData.ContentTitleDesc" />
    <!--[if lt IE 9]>
        <script src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/scalejs/ie/html5shiv.js"></script>
        <script src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/scalejs/ie/respond.min.js"></script>
        <script src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/scalejs/ie/excanvas.js"></script>
    <![endif]-->
    <!--[if lte IE 8]>
        <link rel="stylesheet" type="text/css" href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_Content/Scale/css/ie8.css" />
    <![endif]-->
<link href="~/_Content/Scale/css/custom .css" rel="stylesheet" />
    @if (ViewBag.OtherApplication == "1")
    {
        @Styles.Render("~/bundles/scale/k6css")

    }
    else
    {
        @Styles.Render("~/bundles/scale/css")
    }
    @Styles.Render("~/bundles/user/css")
    @Styles.Render("~/bundles/company/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/signalR")
    @Scripts.Render("~/bundles/scale/js")
    @Scripts.Render("~/bundles/user/js")
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/signalr/hubs"></script>

</head>
<body>
   
    <nav class="navbar navbar-default hidden">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar" style="padding: 0px 15px 0px 0px;">
                <ul class="nav navbar-nav" style="margin-left: -15px;">
                    <li id="accounts"><a href="@Url.Action("List","Account")">Accounts</a></li>
                    <li id="users"><a href="@Url.Action("List","User")">Users</a></li>
                    <li id="settings"><a href="@Url.Action("Index","Setting")">Settings</a></li>
                    <li id="audits"><a href="@Url.Action("List","ActivityLog")">Audit Log</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown" id="userPic">
                        <a class="dropdown-toggle" style="padding: 4px;" data-toggle="dropdown" href="#">
                            <img id="menuProfileImage" src="~/images/user.png" style="width: 40px; border-radius: 20px !important;" />
                        </a>
                        <ul class="dropdown-menu" style="left: 0px">
                            <li><a data-toggle='modal' href='#ModalChangePassword'>Change Password</a></li>
                            <li><a href='#' id="btnEnableAuthentication">Disable Authenticator</a></li>
                        </ul>
                    </li>
                    <li><a href="#" class="userName" id="userName" style="cursor: default;">Usman</a></li>
                    <li id="logout"><a href="#" class="logout">Close</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-white header header-md navbar navbar-fixed-top-xs" @*box-shadow//ilyas*@>
        @*<div style="float:right;" id="modAdspic">
          
        </div>*@
        <div class="navbar-header aside-md dk">
            <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen" data-target="#nav">
                <i class="fa fa-bars"></i>
            </a>
            @*@if (ViewBag.OtherApplication == "1")
            {
                <a id="logoid" href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/Users/Dashboard/DashBoardView" class="navbar-brand"><img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/images/k6/main-logo.png" class="m-r-sm"></a>

            }
            else
            {
                <a id="logoid" href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/Users/Dashboard/DashBoardView" class="navbar-brand"><img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/images/main-logo.png" class="m-r-sm"></a>

            }*@
            <a href="@Url.Action("Logout", "Auth", new { area = ""})" class="btn btn-link visible-xs btn-logout" data-toggle="dropdown" data-target=".user">
                Close <img src="~/_Content/images/k6-close.png" style="margin-left: 2px;" />
            </a>

        </div>
        @if (!pageData.StrippedLayout)
        {

            <p class="intro-text hidden-xs hidden">
                Welcome to Training Courses, @user.FirstName @user.LastName
            </p>

            <p class="intro-text hidden-xs pull-right padder">

                @if (Convert.ToInt32(System.Configuration.ConfigurationManager.AppSettings["HucLogo"]) == 1  || ViewBag._IsSimpleUser == 0)
                {
                    <a id="btnLogout" href="@Url.Action("Logout", "Auth", new { area = ""})" class="pull-right logout-btn m-l-lg Inactive-navbarbtn" style="color: #ffffff !important;">Close <img src="~/_Content/images/k6-close.png" height="22" width="24" style="margin-left: 2px;margin-right: 25px;" /></a>

                }
                else
                {
                    <a id="btnLogout" href="@Url.Action("LogoutGdd", "Auth", new { area = ""})" class="pull-right logout-btn m-l-lg Inactive-navbarbtn" style="color: #ffffff !important;">Logout <img src="~/_Content/images/k6-close.png" height="22" width="24" style="margin-left: 2px;margin-right: 25px;" /></a>

                }

                <div class="seperator hidden-xs pull-right hidden"></div>
            </p>

            <p class="intro-text hidden-xs pull-right padder hidden">
                @if (courseUser.IsBackupAdmin)
                {
                    <a href="@Url.Action("Index", "Dashboard", new { area = "Company" })" class="pull-right logout-btn">To Company</a>
                    <div class="seperator hidden-xs pull-right"></div>
                }
            </p>

            <p class="intro-text hidden-xs pull-right padder hidden">
                <a href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/Users/Courses" class="pull-right logout-btn m-l-lg">Courses</a>
                <div class="seperator hidden-xs pull-right hidden"></div>
            </p>

            <p class="intro-text hidden-xs pull-right padder hidden">
                <a href="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/Users/Dashboard" class="pull-right logout-btn m-l-lg">Dashboard</a>

            </p>

        }
    </header> 
    <section class="hbox stretch full-page">

        <!-- .aside -->
        @*@Html.Partial("~/Areas/Users/Views/Shared/Partials/LeftArea.cshtml")*@
        <!-- /.aside -->
        <section id="content">
            <section class="hbox stretch">
                <section class="vbox scrollable padder">
                    <!-- .breadcrumb -->
                    @*@Breadcrumb(pageData)*@
                    <!-- / .breadcrumb -->
                    @if (!String.IsNullOrWhiteSpace(pageData.ContentTitle))
                    {
                        <section class="row padding-bottom-10">
                            <div class="col-sm-9" style="top:4px;">
                                <h3 class="text-black" style="margin-bottom:3px;">
                                    @pageData.ContentTitle
                                </h3>
                                @if (!String.IsNullOrWhiteSpace(pageData.ContentTitleDesc))
                                {
                                    <small class="content-desc">
                                        @pageData.ContentTitleDesc
                                    </small>
                                }
                            </div>
                        </section>
                    }
                    @RenderBody()
                </section>
                <!-- side content -->
                <aside class="aside-md bg-black hide" id="sidebar">
                    <section class="vbox animated fadeInRight">
                        <section class="scrollable">
                            <div class="wrapper"><strong>Live feed</strong></div>
                            <ul class="list-group no-bg no-borders auto">
                                <li class="list-group-item">
                                    <span class="fa-stack pull-left m-r-sm">
                                        <i class="fa fa-circle fa-stack-2x text-success"></i>
                                        <i class="fa fa-reply fa-stack-1x text-white"></i>
                                    </span>
                                    <span class="clear">
                                        <a href="#">Goody@gmail.com</a> sent your email
                                        <small class="icon-muted">13 minutes ago</small>
                                    </span>
                                </li>
                                <li class="list-group-item">
                                    <span class="fa-stack pull-left m-r-sm">
                                        <i class="fa fa-circle fa-stack-2x text-danger"></i>
                                        <i class="fa fa-file-o fa-stack-1x text-white"></i>
                                    </span>
                                    <span class="clear">
                                        <a href="#">Mide@live.com</a> invite you to join a meeting
                                        <small class="icon-muted">20 minutes ago</small>
                                    </span>
                                </li>
                                <li class="list-group-item">
                                    <span class="fa-stack pull-left m-r-sm">
                                        <i class="fa fa-circle fa-stack-2x text-info"></i>
                                        <i class="fa fa-map-marker fa-stack-1x text-white"></i>
                                    </span>
                                    <span class="clear">
                                        <a href="#">Geoge@yahoo.com</a> is online
                                        <small class="icon-muted">1 hour ago</small>
                                    </span>
                                </li>
                                <li class="list-group-item">
                                    <span class="fa-stack pull-left m-r-sm">
                                        <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                        <i class="fa fa-info fa-stack-1x text-white"></i>
                                    </span>
                                    <span class="clear">
                                        <a href="#"><strong>Admin</strong></a> post a info
                                        <small class="icon-muted">1 day ago</small>
                                    </span>
                                </li>
                            </ul>
                            <div class="wrapper"><strong>Friends</strong></div>
                            <ul class="list-group no-bg no-borders auto">
                                <li class="list-group-item">
                                    <div class="media">
                                        <span class="pull-left thumb-sm avatar">
                                            <img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/scale/images/a3.png" alt="John said" class="img-circle">
                                            <i class="on b-black bottom"></i>
                                        </span>
                                        <div class="media-body">
                                            <div><a href="#">Chris Fox</a></div>
                                            <small class="text-muted">about 2 minutes ago</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="media">
                                        <span class="pull-left thumb-sm avatar">
                                            <img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/scale/images/a2.png" alt="John said">
                                            <i class="on b-black bottom"></i>
                                        </span>
                                        <div class="media-body">
                                            <div><a href="#">Amanda Conlan</a></div>
                                            <small class="text-muted">about 2 hours ago</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="media">
                                        <span class="pull-left thumb-sm avatar">
                                            <img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/scale/images/a1.png" alt="John said">
                                            <i class="busy b-black bottom"></i>
                                        </span>
                                        <div class="media-body">
                                            <div><a href="#">Dan Doorack</a></div>
                                            <small class="text-muted">3 days ago</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="media">
                                        <span class="pull-left thumb-sm avatar">
                                            <img src="@(HttpContext.Current.Request.ApplicationPath.Length > 1 ? HttpContext.Current.Request.ApplicationPath : string.Empty)/_content/scale/images/a0.png" alt="John said">
                                            <i class="away b-black bottom"></i>
                                        </span>
                                        <div class="media-body">
                                            <div><a href="#">Lauren Taylor</a></div>
                                            <small class="text-muted">about 2 minutes ago</small>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </section>
                    </section>
                </aside>
                <!-- / side content -->
            </section>
            <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen" data-target="#nav"></a>
        </section>
    </section>

    @RenderSection("scripts", required: false)
    @{
        var notification = (NotificationModel)TempData[BaseController.NotificationKey];
        if (notification != null)
        {
            TempData[BaseController.NotificationKey] = null;

            <script type="text/javascript">
                console.log('notification time!');
                @switch (notification.Type)
                {
                    case NoteType.Error:
                        @:addError('@notification.Message.ForNotification()', '@notification.Title.ForNotification()');
                                                                                                break;
                    case NoteType.Info:
                        @:addInfo('@notification.Message.ForNotification()', '@notification.Title.ForNotification()');
                                                                                                break;
                    case NoteType.Success:
                        @:addSuccess('@notification.Message.ForNotification()', '@notification.Title.ForNotification()');
                                                                                                break;
                    case NoteType.Note:
                        @:addNotice('@notification.Message.ForNotification()', '@notification.Title.ForNotification()');
                                                                                                break;
                }
            </script>
        }
    }
</body>
</html>

@helper Breadcrumb(PageDataModel pageData)
{
    var breadcrumb = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Dashboard", "/Users", "fa-home")
    };

    if (pageData != null && pageData.Breadcrumb != null)
    {
        breadcrumb.AddRange(pageData.Breadcrumb);
    }
    <ul class="breadcrumb">
        @{
            var count = breadcrumb.Count();
            foreach (var item in breadcrumb)
            {
                <li @if (count == 1) { <text> class="active" </text>   }>
                    @if (!String.IsNullOrWhiteSpace(item.Link) && count != 1)
                    {
                        <a href="@item.Link">
                            @if (!String.IsNullOrWhiteSpace(item.Icon))
                            {
                                <i class="@item.Icon.Split('-')[0] @item.Icon"></i>
                            }
                            @item.Name
                        </a>
                    }
                    else
                    {
                        if (!String.IsNullOrWhiteSpace(item.Icon))
                        {
                            <i class="@item.Icon.Split('-')[0] @item.Icon"></i>
                        }
                        @:@item.Name
                    }
                </li>
                    count--;
            }
        }
    </ul>
}